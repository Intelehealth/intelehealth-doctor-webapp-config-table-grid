<div class="container-fluid">
  <div class="row mt-3">
    <div class="col-md-12 p-0">
      <div class="card intel-card" data-test-id="cardTicketDetails">

        <!-- Card Header -->
        <div class="card-header" data-test-id="cardHeaderTicketDetails">
          <div class="grid-title" data-test-id="conTicketHeader">
            <span data-test-id="lblTicketId">{{ticketData?.jira_ticket_id ?? ticketData?.external_references?.[0]?.external_id}}</span>
            <h6 class="mb-0" data-test-id="lblTicketTitle">{{ticketData?.title | translate}}</h6>
          </div>
          <div class="card-header-actions" data-test-id="conTicketHeaderActions">
            <button 
              type="button" 
              class="btn" 
              (click)="onReopenTicket()" 
              *ngIf="ticketData?.status == 'resolved'" 
              data-test-id="btnReopenTicket">
              {{'Reopen Ticket' | translate}}
            </button>
          </div>
        </div>

        <!-- Card Body -->
        <div class="card-body" data-test-id="cardBodyTicketDetails">
          <div class="created_at" data-test-id="lblCreatedAt">{{ticketData?.created_at | date:'d MMM, y'}}</div>

          <div class="key-value" data-test-id="rowDescription">
            <div class="key" data-test-id="lblDescription">{{'Description'| translate}}</div>
            <div class="value" data-test-id="valDescription">{{ticketData?.description ?? 'N/A'}}</div>
          </div>

          <div class="key-value" data-test-id="rowLastUpdated">
            <div class="key" data-test-id="lblLastUpdated">{{'Last Updated' | translate }}:</div>
            <div class="value" data-test-id="valLastUpdated">{{ticketData?.updated_at |  date:'d MMM, y'}}</div>
          </div>

          <div class="key-value" data-test-id="rowPriority">
            <div class="key" data-test-id="lblPriority">{{'Priority' | translate}}</div>
            <div class="value" data-test-id="valPriority">
              <span class="status-label priority" [ngClass]="ticketData?.priority" data-test-id="lblPriorityValue">
                {{ ticketData?.priority | translate | titlecase }}
              </span>
            </div>
          </div>

          <div class="key-value" data-test-id="rowStatus">
            <div class="key" data-test-id="lblStatus">{{'Status'| translate}}</div>
            <div class="value" data-test-id="valStatus">
              <span class="status-label status" [ngClass]="ticketData?.status" data-test-id="lblStatusValue">
                {{ statuses[ticketData?.status] | translate | titlecase }}
              </span>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
