import { formatDate } from '@angular/common';
import { Component, Inject } from '@angular/core';
import { DateAdapter, MAT_DATE_FORMATS, NativeDateAdapter } from '@angular/material/core';
import { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';
import { TranslateService } from '@ngx-translate/core';
// import * as moment from 'moment';
import moment from 'moment';
import { ToastrService } from 'ngx-toastr';
import { AppointmentService } from '../../services/appointment.service';
import * as i0 from "@angular/core";
import * as i1 from "@angular/material/dialog";
import * as i2 from "../../services/appointment.service";
import * as i3 from "ngx-toastr";
import * as i4 from "@ngx-translate/core";
import * as i5 from "@angular/material/form-field";
import * as i6 from "@angular/common";
import * as i7 from "@angular/forms";
import * as i8 from "@angular/material/datepicker";
export const PICK_FORMATS = {
    parse: { dateInput: { month: 'short', year: 'numeric', day: 'numeric' } },
    display: {
        dateInput: 'input',
        monthYearLabel: { year: 'numeric', month: 'short' },
        dateA11yLabel: { year: 'numeric', month: 'long', day: 'numeric' },
        monthYearA11yLabel: { year: 'numeric', month: 'long' }
    }
};
class PickDateAdapter extends NativeDateAdapter {
    format(date, displayFormat) {
        if (displayFormat === 'input') {
            return formatDate(date, 'dd MMMM yyyy', this.locale);
        }
        else {
            return date.toDateString();
        }
    }
}
export class RescheduleAppointmentComponent {
    data;
    dialogRef;
    appointmentService;
    toastr;
    translate;
    minDate;
    scheduleData = {
        morning: [],
        afternoon: [],
        evening: []
    };
    selectedDate = moment().format("YYYY-MM-DD");
    slots = [];
    selectedSlot;
    constructor(data, dialogRef, appointmentService, toastr, translate) {
        this.data = data;
        this.dialogRef = dialogRef;
        this.appointmentService = appointmentService;
        this.toastr = toastr;
        this.translate = translate;
        this.minDate = new Date();
    }
    ngOnInit() {
        this.getAppointmentSlots();
    }
    /**
    * Callback for date change event
    * @param {Event} event - Date changed event
    * @return {void}
    */
    dateChanged(event) {
        this.selectedSlot = null;
        this.selectedDate = moment(event.target.value).format("YYYY-MM-DD");
        this.getAppointmentSlots();
    }
    /**
    * Get appointment slots for a given speciality, from and to date
    * @param {string} fromDate - From date
    * @param {string} toDate - To date
    * @param {string} speciality - Speciality
    * @return {void}
    */
    getAppointmentSlots(fromDate = this.selectedDate, toDate = this.selectedDate, speciality = this.data?.speciality) {
        this.scheduleData = {
            morning: [],
            afternoon: [],
            evening: []
        };
        this.appointmentService.getAppointmentSlots(moment(fromDate).format("DD/MM/YYYY"), moment(toDate).format("DD/MM/YYYY"), speciality).subscribe((res) => {
            this.slots = res.dates;
            this.slots.forEach((slot) => {
                if (moment(slot.slotTime, "LT").isBefore(moment("12:00 PM", "LT"))) {
                    this.scheduleData.morning.push(slot.slotTime);
                }
                else if (moment(slot.slotTime, "LT").isBetween(moment("11:30 AM", "LT"), moment("5:00 PM", "LT"))) {
                    this.scheduleData.afternoon.push(slot.slotTime);
                }
                else {
                    this.scheduleData.evening.push(slot.slotTime);
                }
            });
        });
    }
    /**
    * Reschedule appointment
    * @return {void}
    */
    reschedule() {
        if (this.selectedDate && this.selectedSlot) {
            this.close({ date: this.selectedDate, slot: this.selectedSlot });
        }
        else {
            this.toastr.warning(this.translate.instant("Please select slot to reschedule."), this.translate.instant("Select Slot"));
        }
    }
    /**
    * Close modal
    * @param {boolean|RescheduleAppointmentModalResponseModel} val - Dialog result
    * @return {void}
    */
    close(val) {
        this.dialogRef.close(val);
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.3.0", ngImport: i0, type: RescheduleAppointmentComponent, deps: [{ token: MAT_DIALOG_DATA }, { token: i1.MatDialogRef }, { token: i2.AppointmentService }, { token: i3.ToastrService }, { token: i4.TranslateService }], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.3.0", type: RescheduleAppointmentComponent, selector: "app-reschedule-appointment", providers: [
            { provide: DateAdapter, useClass: PickDateAdapter },
            { provide: MAT_DATE_FORMATS, useValue: PICK_FORMATS }
        ], ngImport: i0, template: "<div class=\"reschedule-modal\">\n  <div class=\"modal-title\">\n    <h6 class=\"mb-0\">{{ 'Reschedule appointment' | translate }}</h6>\n    <button class=\"modal-close-btn\" (click)=\"close(false)\" data-test-id=\"btnClose\"><img src=\"assets/svgs/Close.svg\" alt=\"\"></button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <div class=\"col-md-12 p-0\">\n          <div class=\"select-date-con\">\n            <div class=\"form-group row\">\n              <label for=\"expiryDate\" class=\"col-sm-3 col-form-label\">{{ 'Select Date' | translate }}</label>\n              <div class=\"col-sm-6\">\n                <div class=\"input-group\">\n                  <input type=\"text\" class=\"form-control\" [(ngModel)]=\"selectedDate\" (dateChange)=\"dateChanged($event)\" [min]=\"minDate\" [matDatepicker]=\"dp1\" placeholder=\"{{'Select date'|translate}}\" aria-label=\"Date\"\n                    aria-describedby=\"basic-addon1\" readonly data-test-id=\"etDate\">\n                  <mat-datepicker #dp1></mat-datepicker>\n                  <div class=\"input-group-append\">\n                    <span class=\"input-group-text\" id=\"basic-addon1\">\n                      <mat-datepicker-toggle matSuffix [for]=\"dp1\" data-test-id=\"dpDate\">\n                        <img matDatepickerToggleIcon src=\"assets/svgs/calendar-date.svg\" alt=\"\">\n                      </mat-datepicker-toggle>\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"slots-con\">\n            <h6>{{ 'Select a timeslot' | translate }}</h6>\n            <div class=\"slot-section\" *ngIf=\"scheduleData.morning.length;\">\n              <h6>\n                <img src=\"assets/svgs/sunrise.svg\" alt=\"\" class=\"mr-2\" />\n                {{ 'Morning' | translate }}\n              </h6>\n              <div class=\"slot-chips\">\n                <div class=\"slot-chip-item\" [class.selected]=\"selectedSlot == s\" *ngFor=\"let s of scheduleData.morning;\" (click)=\"selectedSlot = s\">\n                  {{s}}\n                </div>\n              </div>\n            </div>\n            <div class=\"slot-section\" *ngIf=\"scheduleData.afternoon.length;\">\n              <h6>\n                <img src=\"assets/svgs/sun.svg\" alt=\"\" class=\"mr-2\" />\n                {{ 'Afternoon' | translate }}\n              </h6>\n              <div class=\"slot-chips\">\n                <div class=\"slot-chip-item\" [class.selected]=\"selectedSlot == s\" *ngFor=\"let s of scheduleData.afternoon;\" (click)=\"selectedSlot = s\">\n                  {{s}}\n                </div>\n              </div>\n            </div>\n            <div class=\"slot-section\" *ngIf=\"scheduleData.evening.length;\">\n              <h6>\n                <img src=\"assets/svgs/sunset.svg\" alt=\"\" class=\"mr-2\" />\n                {{ 'Evening' | translate }}\n              </h6>\n              <div class=\"slot-chips\">\n                <div class=\"slot-chip-item\" [class.selected]=\"selectedSlot == s\" *ngFor=\"let s of scheduleData.evening;\" (click)=\"selectedSlot = s\">\n                  {{s}}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"d-flex justify-content-center py-2\">\n            <button class=\"confirm-btn\" type=\"button\" (click)=\"reschedule()\" data-test-id=\"btnSubmit\">{{ 'Reschedule' | translate }}</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n", styles: [".reschedule-modal{font-family:DM Sans}.reschedule-modal .modal-title{display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding:24px;width:100%;height:70px;background:var(--color-lightGray)}.reschedule-modal .modal-title h6{font-weight:700;font-size:20px;color:var(--color-darkestBlue)}.reschedule-modal .modal-title .modal-close-btn{border:none;background:transparent}.reschedule-modal .modal-body{padding:24px}.reschedule-modal .modal-body .select-date-con{border-bottom:1px solid rgba(178,175,190,.2);margin:10px 0}.reschedule-modal .modal-body .slots-con{max-height:55vh;overflow:auto}.reschedule-modal .modal-body .slots-con h6{font-weight:700;font-size:16px;color:var(--color-darkestBlue);display:flex;align-items:center}.reschedule-modal .modal-body .slots-con .slot-section{padding:10px 0}.reschedule-modal .modal-body .slots-con .slot-section .slot-chips{display:flex;flex-wrap:wrap;align-items:center}.reschedule-modal .modal-body .slots-con .slot-section .slot-chips .slot-chip-item{padding:8px;background:var(--color-lightGray);border:1px solid rgba(178,175,190,.2);border-radius:6px;font-size:14px;line-height:150%;color:var(--color-darkestBlue);margin-right:5px;margin-bottom:5px;cursor:pointer}.reschedule-modal .modal-body .slots-con .slot-section .slot-chips .slot-chip-item.selected{background:var(--color-darkBlue);border:none;border-radius:6px;color:var(--color-white)}.cancel-btn{padding:8px 24px;min-width:119px;height:48px;background:var(--color-white);border:1px solid var(--color-lightGray);border-radius:8px;font-size:18px;line-height:150%;color:var(--color-darkBlue);font-weight:700}.confirm-btn{padding:8px 24px;min-width:119px;height:48px;background:var(--color-darkBlue);border:1px solid var(--color-darkBlue);border-radius:8px;font-size:18px;line-height:150%;color:var(--color-white);font-weight:700}.form-group label{font-size:14px;color:var(--color-darkestBlue);font-weight:700}.form-group .input-group{border:1px solid rgba(178,175,190,.2);background:var(--color-offWhite);border-radius:8px;height:48px}.form-group .input-group .form-control{padding:14px 16px;height:48px;font-size:16px;color:var(--color-darkestBlue);border:none;background:transparent}.form-group .input-group .form-control:focus{box-shadow:none}.form-group .input-group .input-group-append .input-group-text{background:transparent;border:none;padding:0}\n"], dependencies: [{ kind: "directive", type: i5.MatSuffix, selector: "[matSuffix]" }, { kind: "directive", type: i6.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i6.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i7.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i7.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i7.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "component", type: i8.MatDatepicker, selector: "mat-datepicker", exportAs: ["matDatepicker"] }, { kind: "directive", type: i8.MatDatepickerInput, selector: "input[matDatepicker]", inputs: ["matDatepicker", "min", "max", "matDatepickerFilter"], exportAs: ["matDatepickerInput"] }, { kind: "component", type: i8.MatDatepickerToggle, selector: "mat-datepicker-toggle", inputs: ["tabIndex", "disabled", "for", "aria-label", "disableRipple"], exportAs: ["matDatepickerToggle"] }, { kind: "directive", type: i8.MatDatepickerToggleIcon, selector: "[matDatepickerToggleIcon]" }, { kind: "pipe", type: i4.TranslatePipe, name: "translate" }] });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.3.0", ngImport: i0, type: RescheduleAppointmentComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-reschedule-appointment', providers: [
                        { provide: DateAdapter, useClass: PickDateAdapter },
                        { provide: MAT_DATE_FORMATS, useValue: PICK_FORMATS }
                    ], template: "<div class=\"reschedule-modal\">\n  <div class=\"modal-title\">\n    <h6 class=\"mb-0\">{{ 'Reschedule appointment' | translate }}</h6>\n    <button class=\"modal-close-btn\" (click)=\"close(false)\" data-test-id=\"btnClose\"><img src=\"assets/svgs/Close.svg\" alt=\"\"></button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <div class=\"col-md-12 p-0\">\n          <div class=\"select-date-con\">\n            <div class=\"form-group row\">\n              <label for=\"expiryDate\" class=\"col-sm-3 col-form-label\">{{ 'Select Date' | translate }}</label>\n              <div class=\"col-sm-6\">\n                <div class=\"input-group\">\n                  <input type=\"text\" class=\"form-control\" [(ngModel)]=\"selectedDate\" (dateChange)=\"dateChanged($event)\" [min]=\"minDate\" [matDatepicker]=\"dp1\" placeholder=\"{{'Select date'|translate}}\" aria-label=\"Date\"\n                    aria-describedby=\"basic-addon1\" readonly data-test-id=\"etDate\">\n                  <mat-datepicker #dp1></mat-datepicker>\n                  <div class=\"input-group-append\">\n                    <span class=\"input-group-text\" id=\"basic-addon1\">\n                      <mat-datepicker-toggle matSuffix [for]=\"dp1\" data-test-id=\"dpDate\">\n                        <img matDatepickerToggleIcon src=\"assets/svgs/calendar-date.svg\" alt=\"\">\n                      </mat-datepicker-toggle>\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"slots-con\">\n            <h6>{{ 'Select a timeslot' | translate }}</h6>\n            <div class=\"slot-section\" *ngIf=\"scheduleData.morning.length;\">\n              <h6>\n                <img src=\"assets/svgs/sunrise.svg\" alt=\"\" class=\"mr-2\" />\n                {{ 'Morning' | translate }}\n              </h6>\n              <div class=\"slot-chips\">\n                <div class=\"slot-chip-item\" [class.selected]=\"selectedSlot == s\" *ngFor=\"let s of scheduleData.morning;\" (click)=\"selectedSlot = s\">\n                  {{s}}\n                </div>\n              </div>\n            </div>\n            <div class=\"slot-section\" *ngIf=\"scheduleData.afternoon.length;\">\n              <h6>\n                <img src=\"assets/svgs/sun.svg\" alt=\"\" class=\"mr-2\" />\n                {{ 'Afternoon' | translate }}\n              </h6>\n              <div class=\"slot-chips\">\n                <div class=\"slot-chip-item\" [class.selected]=\"selectedSlot == s\" *ngFor=\"let s of scheduleData.afternoon;\" (click)=\"selectedSlot = s\">\n                  {{s}}\n                </div>\n              </div>\n            </div>\n            <div class=\"slot-section\" *ngIf=\"scheduleData.evening.length;\">\n              <h6>\n                <img src=\"assets/svgs/sunset.svg\" alt=\"\" class=\"mr-2\" />\n                {{ 'Evening' | translate }}\n              </h6>\n              <div class=\"slot-chips\">\n                <div class=\"slot-chip-item\" [class.selected]=\"selectedSlot == s\" *ngFor=\"let s of scheduleData.evening;\" (click)=\"selectedSlot = s\">\n                  {{s}}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"d-flex justify-content-center py-2\">\n            <button class=\"confirm-btn\" type=\"button\" (click)=\"reschedule()\" data-test-id=\"btnSubmit\">{{ 'Reschedule' | translate }}</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n", styles: [".reschedule-modal{font-family:DM Sans}.reschedule-modal .modal-title{display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding:24px;width:100%;height:70px;background:var(--color-lightGray)}.reschedule-modal .modal-title h6{font-weight:700;font-size:20px;color:var(--color-darkestBlue)}.reschedule-modal .modal-title .modal-close-btn{border:none;background:transparent}.reschedule-modal .modal-body{padding:24px}.reschedule-modal .modal-body .select-date-con{border-bottom:1px solid rgba(178,175,190,.2);margin:10px 0}.reschedule-modal .modal-body .slots-con{max-height:55vh;overflow:auto}.reschedule-modal .modal-body .slots-con h6{font-weight:700;font-size:16px;color:var(--color-darkestBlue);display:flex;align-items:center}.reschedule-modal .modal-body .slots-con .slot-section{padding:10px 0}.reschedule-modal .modal-body .slots-con .slot-section .slot-chips{display:flex;flex-wrap:wrap;align-items:center}.reschedule-modal .modal-body .slots-con .slot-section .slot-chips .slot-chip-item{padding:8px;background:var(--color-lightGray);border:1px solid rgba(178,175,190,.2);border-radius:6px;font-size:14px;line-height:150%;color:var(--color-darkestBlue);margin-right:5px;margin-bottom:5px;cursor:pointer}.reschedule-modal .modal-body .slots-con .slot-section .slot-chips .slot-chip-item.selected{background:var(--color-darkBlue);border:none;border-radius:6px;color:var(--color-white)}.cancel-btn{padding:8px 24px;min-width:119px;height:48px;background:var(--color-white);border:1px solid var(--color-lightGray);border-radius:8px;font-size:18px;line-height:150%;color:var(--color-darkBlue);font-weight:700}.confirm-btn{padding:8px 24px;min-width:119px;height:48px;background:var(--color-darkBlue);border:1px solid var(--color-darkBlue);border-radius:8px;font-size:18px;line-height:150%;color:var(--color-white);font-weight:700}.form-group label{font-size:14px;color:var(--color-darkestBlue);font-weight:700}.form-group .input-group{border:1px solid rgba(178,175,190,.2);background:var(--color-offWhite);border-radius:8px;height:48px}.form-group .input-group .form-control{padding:14px 16px;height:48px;font-size:16px;color:var(--color-darkestBlue);border:none;background:transparent}.form-group .input-group .form-control:focus{box-shadow:none}.form-group .input-group .input-group-append .input-group-text{background:transparent;border:none;padding:0}\n"] }]
        }], ctorParameters: function () { return [{ type: undefined, decorators: [{
                    type: Inject,
                    args: [MAT_DIALOG_DATA]
                }] }, { type: i1.MatDialogRef }, { type: i2.AppointmentService }, { type: i3.ToastrService }, { type: i4.TranslateService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzY2hlZHVsZS1hcHBvaW50bWVudC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9paC1saWJyYXJ5L3NyYy9saWIvbW9kYWwtY29tcG9uZW50cy9yZXNjaGVkdWxlLWFwcG9pbnRtZW50L3Jlc2NoZWR1bGUtYXBwb2ludG1lbnQuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvaWgtbGlicmFyeS9zcmMvbGliL21vZGFsLWNvbXBvbmVudHMvcmVzY2hlZHVsZS1hcHBvaW50bWVudC9yZXNjaGVkdWxlLWFwcG9pbnRtZW50LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM3QyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUMxRCxPQUFPLEVBQUUsV0FBVyxFQUFFLGdCQUFnQixFQUFFLGlCQUFpQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDMUYsT0FBTyxFQUFFLFlBQVksRUFBRSxlQUFlLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUN6RSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUN2RCxvQ0FBb0M7QUFDcEMsT0FBTyxNQUFNLE1BQU0sUUFBUSxDQUFDO0FBQzVCLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFM0MsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sb0NBQW9DLENBQUM7Ozs7Ozs7Ozs7QUFFeEUsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHO0lBQzFCLEtBQUssRUFBRSxFQUFFLFNBQVMsRUFBRSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLEVBQUU7SUFDekUsT0FBTyxF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LENBQUM7SUFDNUIsQ0FBQzt1R0FsRlUsOEJBQThCLGtCQVlyQixlQUFlOzJGQVp4Qiw4QkFBOEIscURBTDlCO1lBQ1QsRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxlQUFlLEVBQUU7WUFDbkQsRUFBRSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsUUFBUSxFQUFFLFlBQVksRUFBRTtTQUN0RCwwQkN0Q0gsb2pIQTBFQTs7MkZEbENhLDhCQUE4QjtrQkFUMUMsU0FBUzsrQkFDRSw0QkFBNEIsYUFHM0I7d0JBQ1QsRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxlQUFlLEVBQUU7d0JBQ25ELEVBQUUsT0FBTyxFQUFFLGdCQUFnQixFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUU7cUJBQ3REOzswQkFjWSxNQUFNOzJCQUFDLGVBQWUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmb3JtYXREYXRlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IENvbXBvbmVudCwgSW5qZWN0LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IERhdGVBZGFwdGVyLCBNQVRfREFURV9GT1JNQVRTLCBOYXRpdmVEYXRlQWRhcHRlciB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2NvcmUnO1xuaW1wb3J0IHsgTWF0RGlhbG9nUmVmLCBNQVRfRElBTE9HX0RBVEEgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9kaWFsb2cnO1xuaW1wb3J0IHsgVHJhbnNsYXRlU2VydmljZSB9IGZyb20gJ0BuZ3gtdHJhbnNsYXRlL2NvcmUnO1xuLy8gaW1wb3J0ICogYXMgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgeyBUb2FzdHJTZXJ2aWNlIH0gZnJvbSAnbmd4LXRvYXN0cic7XG5pbXBvcnQgeyBBcGlSZXNwb25zZU1vZGVsLCBSZXNjaGVkdWxlQXBwb2ludG1lbnRNb2RhbFJlc3BvbnNlTW9kZWwsIFNjaGVkdWxlRGF0YU1vZGVsLCBTbG90TW9kZWwgfSBmcm9tICcuLi8uLi9tb2RlbC9tb2RlbCc7XG5pbXBvcnQgeyBBcHBvaW50bWVudFNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9hcHBvaW50bWVudC5zZXJ2aWNlJztcblxuZXhwb3J0IGNvbnN0IFBJQ0tfRk9STUFUUyA9IHtcbiAgcGFyc2U6IHsgZGF0ZUlucHV0OiB7IG1vbnRoOiAnc2hvcnQnLCB5ZWFyOiAnbnVtZXJpYycsIGRheTogJ251bWVyaWMnIH0gfSxcbiAgZGlzcGxheToge1xuICAgIGRhdGVJbnB1dDogJ2lucHV0JyxcbiAgICBtb250aFllYXJMYWJlbDogeyB5ZWFyOiAnbnVtZXJpYycsIG1vbnRoOiAnc2hvcnQnIH0sXG4gICAgZGF0ZUExMXlMYWJlbDogeyB5ZWFyOiAnbnVtZXJpYycsIG1vbnRoOiAnbG9uZycsIGRheTogJ251bWVyaWMnIH0sXG4gICAgbW9udGhZZWFyQTExeUxhYmVsOiB7IHllYXI6ICdudW1lcmljJywgbW9udGg6ICdsb25nJyB9XG4gIH1cbn07XG5cbmNsYXNzIFBpY2tEYXRlQWRhcHRlciBleHRlbmRzIE5hdGl2ZURhdGVBZGFwdGVyIHtcbiAgZm9ybWF0KGRhdGU6IERhdGUsIGRpc3BsYXlGb3JtYXQ6IE9iamVjdCk6IHN0cmluZyB7XG4gICAgaWYgKGRpc3BsYXlGb3JtYXQgPT09ICdpbnB1dCcpIHtcbiAgICAgIHJldHVybiBmb3JtYXREYXRlKGRhdGUsICdkZCBNTU1NIHl5eXknLCB0aGlzLmxvY2FsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkYXRlLnRvRGF0ZVN0cmluZygpO1xuICAgIH1cbiAgfVxufVxuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdhcHAtcmVzY2hlZHVsZS1hcHBvaW50bWVudCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9yZXNjaGVkdWxlLWFwcG9pbnRtZW50LmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vcmVzY2hlZHVsZS1hcHBvaW50bWVudC5jb21wb25lbnQuc2NzcyddLFxuICBwcm92aWRlcnM6IFtcbiAgICB7IHByb3ZpZGU6IERhdGVBZGFwdGVyLCB1c2VDbGFzczogUGlja0RhdGVBZGFwdGVyIH0sXG4gICAgeyBwcm92aWRlOiBNQVRfREFURV9GT1JNQVRTLCB1c2VWYWx1ZTogUElDS19GT1JNQVRTIH1cbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBSZXNjaGVkdWxlQXBwb2ludG1lbnRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIG1pbkRhdGU6IERhdGU7XG4gIHNjaGVkdWxlRGF0YTogU2NoZWR1bGVEYXRhTW9kZWwgPSB7XG4gICAgbW9ybmluZzogW10sXG4gICAgYWZ0ZXJub29uOiBbXSxcbiAgICBldmVuaW5nOiBbXVxuICB9O1xuICBzZWxlY3RlZERhdGUgPSBtb21lbnQoKS5mb3JtYXQoXCJZWVlZLU1NLUREXCIpO1xuICBzbG90czogU2xvdE1vZGVsW10gPSBbXTtcbiAgc2VsZWN0ZWRTbG90OiBTbG90TW9kZWw7XG5cbiAgY29uc3RydWN0b3IoQEluamVjdChNQVRfRElBTE9HX0RBVEEpIHB1YmxpYyBkYXRhLFxuICAgIHByaXZhdGUgZGlhbG9nUmVmOiBNYXREaWFsb2dSZWY8UmVzY2hlZHVsZUFwcG9pbnRtZW50Q29tcG9uZW50PixcbiAgICBwcml2YXRlIGFwcG9pbnRtZW50U2VydmljZTogQXBwb2ludG1lbnRTZXJ2aWNlLFxuICAgIHByaXZhdGUgdG9hc3RyOiBUb2FzdHJTZXJ2aWNlLFxuICAgIHByaXZhdGUgdHJhbnNsYXRlOiBUcmFuc2xhdGVTZXJ2aWNlXG4gICkge1xuICAgIHRoaXMubWluRGF0ZSA9IG5ldyBEYXRlKCk7XG4gIH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmdldEFwcG9pbnRtZW50U2xvdHMoKTtcbiAgfVxuXG4gIC8qKlxuICAqIENhbGxiYWNrIGZvciBkYXRlIGNoYW5nZSBldmVudFxuICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gRGF0ZSBjaGFuZ2VkIGV2ZW50XG4gICogQHJldHVybiB7dm9pZH1cbiAgKi9cbiAgZGF0ZUNoYW5nZWQoZXZlbnQpIHtcbiAgICB0aGlzLnNlbGVjdGVkU2xvdCA9IG51bGw7XG4gICAgdGhpcy5zZWxlY3RlZERhdGUgPSBtb21lbnQoZXZlbnQudGFyZ2V0LnZhbHVlKS5mb3JtYXQoXCJZWVlZLU1NLUREXCIpO1xuICAgIHRoaXMuZ2V0QXBwb2ludG1lbnRTbG90cygpO1xuICB9XG5cbiAgLyoqXG4gICogR2V0IGFwcG9pbnRtZW50IHNsb3RzIGZvciBhIGdpdmVuIHNwZWNpYWxpdHksIGZyb20gYW5kIHRvIGRhdGVcbiAgKiBAcGFyYW0ge3N0cmluZ30gZnJvbURhdGUgLSBGcm9tIGRhdGVcbiAgKiBAcGFyYW0ge3N0cmluZ30gdG9EYXRlIC0gVG8gZGF0ZVxuICAqIEBwYXJhbSB7c3RyaW5nfSBzcGVjaWFsaXR5IC0gU3BlY2lhbGl0eVxuICAqIEByZXR1cm4ge3ZvaWR9XG4gICovXG4gIGdldEFwcG9pbnRtZW50U2xvdHMoZnJvbURhdGUgPSB0aGlzLnNlbGVjdGVkRGF0ZSwgdG9EYXRlID0gdGhpcy5zZWxlY3RlZERhdGUsIHNwZWNpYWxpdHkgPSB0aGlzLmRhdGE/LnNwZWNpYWxpdHkpIHtcbiAgICB0aGlzLnNjaGVkdWxlRGF0YSA9IHtcbiAgICAgIG1vcm5pbmc6IFtdLFxuICAgICAgYWZ0ZXJub29uOiBbXSxcbiAgICAgIGV2ZW5pbmc6IFtdXG4gICAgfTtcbiAgICB0aGlzLmFwcG9pbnRtZW50U2VydmljZS5nZXRBcHBvaW50bWVudFNsb3RzKG1vbWVudChmcm9tRGF0ZSkuZm9ybWF0KFwiREQvTU0vWVlZWVwiKSwgbW9tZW50KHRvRGF0ZSkuZm9ybWF0KFwiREQvTU0vWVlZWVwiKSwgc3BlY2lhbGl0eSkuc3Vic2NyaWJlKChyZXM6IEFwaVJlc3BvbnNlTW9kZWwpID0+IHtcbiAgICAgIHRoaXMuc2xvdHMgPSByZXMuZGF0ZXM7XG4gICAgICB0aGlzLnNsb3RzLmZvckVhY2goKHNsb3Q6IFNsb3RNb2RlbCkgPT4ge1xuICAgICAgICBpZiAobW9tZW50KHNsb3Quc2xvdFRpbWUsIFwiTFRcIikuaXNCZWZvcmUobW9tZW50KFwiMTI6MDAgUE1cIiwgXCJMVFwiKSkpIHtcbiAgICAgICAgICB0aGlzLnNjaGVkdWxlRGF0YS5tb3JuaW5nLnB1c2goc2xvdC5zbG90VGltZSk7XG4gICAgICAgIH0gZWxzZSBpZiAobW9tZW50KHNsb3Quc2xvdFRpbWUsIFwiTFRcIikuaXNCZXR3ZWVuKG1vbWVudChcIjExOjMwIEFNXCIsIFwiTFRcIiksIG1vbWVudChcIjU6MDAgUE1cIiwgXCJMVFwiKSkpIHtcbiAgICAgICAgICB0aGlzLnNjaGVkdWxlRGF0YS5hZnRlcm5vb24ucHVzaChzbG90LnNsb3RUaW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNjaGVkdWxlRGF0YS5ldmVuaW5nLnB1c2goc2xvdC5zbG90VGltZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICogUmVzY2hlZHVsZSBhcHBvaW50bWVudFxuICAqIEByZXR1cm4ge3ZvaWR9XG4gICovXG4gIHJlc2NoZWR1bGUoKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0ZWREYXRlICYmIHRoaXMuc2VsZWN0ZWRTbG90KSB7XG4gICAgICB0aGlzLmNsb3NlKHsgZGF0ZTogdGhpcy5zZWxlY3RlZERhdGUsIHNsb3Q6IHRoaXMuc2VsZWN0ZWRTbG90IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRvYXN0ci53YXJuaW5nKHRoaXMudHJhbnNsYXRlLmluc3RhbnQoXCJQbGVhc2Ugc2VsZWN0IHNsb3QgdG8gcmVzY2hlZHVsZS5cIiksIHRoaXMudHJhbnNsYXRlLmluc3RhbnQoXCJTZWxlY3QgU2xvdFwiKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogQ2xvc2UgbW9kYWxcbiAgKiBAcGFyYW0ge2Jvb2xlYW58UmVzY2hlZHVsZUFwcG9pbnRtZW50TW9kYWxSZXNwb25zZU1vZGVsfSB2YWwgLSBEaWFsb2cgcmVzdWx0XG4gICogQHJldHVybiB7dm9pZH1cbiAgKi9cbiAgY2xvc2UodmFsOiBib29sZWFufFJlc2NoZWR1bGVBcHBvaW50bWVudE1vZGFsUmVzcG9uc2VNb2RlbCkge1xuICAgIHRoaXMuZGlhbG9nUmVmLmNsb3NlKHZhbCk7XG4gIH1cblxufVxuIiwiPGRpdiBjbGFzcz1cInJlc2NoZWR1bGUtbW9kYWxcIj5cbiAgPGRpdiBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+XG4gICAgPGg2IGNsYXNzPVwibWItMFwiPnt7ICdSZXNjaGVkdWxlIGFwcG9pbnRtZW50JyB8IHRyYW5zbGF0ZSB9fTwvaDY+XG4gICAgPGJ1dHRvbiBjbGFzcz1cIm1vZGFsLWNsb3NlLWJ0blwiIChjbGljayk9XCJjbG9zZShmYWxzZSlcIiBkYXRhLXRlc3QtaWQ9XCJidG5DbG9zZVwiPjxpbWcgc3JjPVwiYXNzZXRzL3N2Z3MvQ2xvc2Uuc3ZnXCIgYWx0PVwiXCI+PC9idXR0b24+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxuICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXItZmx1aWRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC0xMiBwLTBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VsZWN0LWRhdGUtY29uXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCByb3dcIj5cbiAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImV4cGlyeURhdGVcIiBjbGFzcz1cImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsXCI+e3sgJ1NlbGVjdCBEYXRlJyB8IHRyYW5zbGF0ZSB9fTwvbGFiZWw+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBbKG5nTW9kZWwpXT1cInNlbGVjdGVkRGF0ZVwiIChkYXRlQ2hhbmdlKT1cImRhdGVDaGFuZ2VkKCRldmVudClcIiBbbWluXT1cIm1pbkRhdGVcIiBbbWF0RGF0ZXBpY2tlcl09XCJkcDFcIiBwbGFjZWhvbGRlcj1cInt7J1NlbGVjdCBkYXRlJ3x0cmFuc2xhdGV9fVwiIGFyaWEtbGFiZWw9XCJEYXRlXCJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImJhc2ljLWFkZG9uMVwiIHJlYWRvbmx5IGRhdGEtdGVzdC1pZD1cImV0RGF0ZVwiPlxuICAgICAgICAgICAgICAgICAgPG1hdC1kYXRlcGlja2VyICNkcDE+PC9tYXQtZGF0ZXBpY2tlcj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cC1hcHBlbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC10ZXh0XCIgaWQ9XCJiYXNpYy1hZGRvbjFcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8bWF0LWRhdGVwaWNrZXItdG9nZ2xlIG1hdFN1ZmZpeCBbZm9yXT1cImRwMVwiIGRhdGEtdGVzdC1pZD1cImRwRGF0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBtYXREYXRlcGlja2VyVG9nZ2xlSWNvbiBzcmM9XCJhc3NldHMvc3Zncy9jYWxlbmRhci1kYXRlLnN2Z1wiIGFsdD1cIlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDwvbWF0LWRhdGVwaWNrZXItdG9nZ2xlPlxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbG90cy1jb25cIj5cbiAgICAgICAgICAgIDxoNj57eyAnU2VsZWN0IGEgdGltZXNsb3QnIHwgdHJhbnNsYXRlIH19PC9oNj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbG90LXNlY3Rpb25cIiAqbmdJZj1cInNjaGVkdWxlRGF0YS5tb3JuaW5nLmxlbmd0aDtcIj5cbiAgICAgICAgICAgICAgPGg2PlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3N2Z3Mvc3VucmlzZS5zdmdcIiBhbHQ9XCJcIiBjbGFzcz1cIm1yLTJcIiAvPlxuICAgICAgICAgICAgICAgIHt7ICdNb3JuaW5nJyB8IHRyYW5zbGF0ZSB9fVxuICAgICAgICAgICAgICA8L2g2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xvdC1jaGlwc1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbG90LWNoaXAtaXRlbVwiIFtjbGFzcy5zZWxlY3RlZF09XCJzZWxlY3RlZFNsb3QgPT0gc1wiICpuZ0Zvcj1cImxldCBzIG9mIHNjaGVkdWxlRGF0YS5tb3JuaW5nO1wiIChjbGljayk9XCJzZWxlY3RlZFNsb3QgPSBzXCI+XG4gICAgICAgICAgICAgICAgICB7e3N9fVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNsb3Qtc2VjdGlvblwiICpuZ0lmPVwic2NoZWR1bGVEYXRhLmFmdGVybm9vbi5sZW5ndGg7XCI+XG4gICAgICAgICAgICAgIDxoNj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9zdmdzL3N1bi5zdmdcIiBhbHQ9XCJcIiBjbGFzcz1cIm1yLTJcIiAvPlxuICAgICAgICAgICAgICAgIHt7ICdBZnRlcm5vb24nIHwgdHJhbnNsYXRlIH19XG4gICAgICAgICAgICAgIDwvaDY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbG90LWNoaXBzXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNsb3QtY2hpcC1pdGVtXCIgW2NsYXNzLnNlbGVjdGVkXT1cInNlbGVjdGVkU2xvdCA9PSBzXCIgKm5nRm9yPVwibGV0IHMgb2Ygc2NoZWR1bGVEYXRhLmFmdGVybm9vbjtcIiAoY2xpY2spPVwic2VsZWN0ZWRTbG90ID0gc1wiPlxuICAgICAgICAgICAgICAgICAge3tzfX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbG90LXNlY3Rpb25cIiAqbmdJZj1cInNjaGVkdWxlRGF0YS5ldmVuaW5nLmxlbmd0aDtcIj5cbiAgICAgICAgICAgICAgPGg2PlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3N2Z3Mvc3Vuc2V0LnN2Z1wiIGFsdD1cIlwiIGNsYXNzPVwibXItMlwiIC8+XG4gICAgICAgICAgICAgICAge3sgJ0V2ZW5pbmcnIHwgdHJhbnNsYXRlIH19XG4gICAgICAgICAgICAgIDwvaDY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbG90LWNoaXBzXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNsb3QtY2hpcC1pdGVtXCIgW2NsYXNzLnNlbGVjdGVkXT1cInNlbGVjdGVkU2xvdCA9PSBzXCIgKm5nRm9yPVwibGV0IHMgb2Ygc2NoZWR1bGVEYXRhLmV2ZW5pbmc7XCIgKGNsaWNrKT1cInNlbGVjdGVkU2xvdCA9IHNcIj5cbiAgICAgICAgICAgICAgICAgIHt7c319XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIgcHktMlwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNvbmZpcm0tYnRuXCIgdHlwZT1cImJ1dHRvblwiIChjbGljayk9XCJyZXNjaGVkdWxlKClcIiBkYXRhLXRlc3QtaWQ9XCJidG5TdWJtaXRcIj57eyAnUmVzY2hlZHVsZScgfCB0cmFuc2xhdGUgfX08L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbiJdfQ==